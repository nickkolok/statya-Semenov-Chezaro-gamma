Почти сходимость является естественным обобщением понятия сходимости.
История исследования почти сходимости начинается с работы Г.Г. Лоренца~\cite{lorentz1948contribution}.
Напомним определение банахова предела.

\begin{definition}
	Линейный функционал $B\in \ell_\infty^*$ называется банаховым пределом,
	если
	\begin{enumerate}
		\item
			$B\geq0$, т.~е. $Bx \geq 0$ для $x \geq 0$,
		\item
			$B\one=1$, где $\one =(1,1,\ldots)$,
		\item
			$B(Tx)=B(x)$ для всех $x\in \ell_\infty$, где $T$~---
		оператор сдвига, т.~е. $T(x_1,x_2,\ldots)=(x_2,x_3,\ldots)$.
	\end{enumerate}
\end{definition}
Множество всех банаховых пределов обозначим через $\mathfrak{B}$.
Существование банаховых пределов было анонсировано С. Мазуром \cite{Mazur} и позднее доказано в книге С.~Банаха~\cite{B}.


Лоренц установил, что существуют такие последовательности $x\in\ell_\infty$,
что значение выражения $Bx$ не зависит от выбора $B\in\mathfrak{B}$.
Такие последовательности называются почти сходящимися (англ. \textit{almost convergent}).
Пишут: $x\in ac$.

Лоренц доказал следующий критерий почти сходимости,
который оказывается исключительно удобен при проверке последовательности на принадлежность пространству $ac$.

\begin{theorem}[Критерий Лоренца]
	Для заданного $t\in\R$ равенство $Bx=t$ выполнено для всех $B\in\mathfrak{B}$
	тогда и только тогда, когда
	\begin{equation}
		\label{eq:crit_Lorentz}
		\lim_{n\to\infty} \frac{1}{n} \sum_{k=m+1}^{m+n} x_k = t
	\end{equation}
	равномерно по $m\in\N$.
\end{theorem}

Если некоторый $x\in\ell_\infty$ удовлетворяет~\eqref{eq:crit_Lorentz},
то мы будем говорить, что $x$ почти сходится к $t$,
и писать: $x\in ac_t$.
Таким образом, очевидно, $ac = \bigcup\limits_{t\in\R} ac_t$.

Равномерный предел в критерии Лоренца можно заменить на двойной~\cite[Теорема 1]{zvol2022ac}:
\begin{theorem}
	Для заданного $t\in\R$ равенство $Bx=t$ выполнено для всех $B\in\B$
	тогда и только тогда, когда
	\begin{equation}
		\label{eq:crit_Lorentz}
		\lim_{n,m\to\infty} \frac{1}{n} \sum_{k=m+1}^{m+n} x_k = t
		.
	\end{equation}
\end{theorem}

(Заметим вскользь, что в общем случае равномерный предел и двойной предел "--- это разные объекты;
за подробными комментариями отсылаем к классическим трудам по математическому анализу,
например,~\cite[с. 154]{kudryavcev2004mathanalys}.)
В настоящей главе в целях удобства доказывается модифицированный критерий Лоренца "--- теорема~\ref{thm:Lorentz_mod}.

Приведём важнейшее следствие из критерия Лоренца, позволяющее в ряде случаев без особых усилий показывать почти сходимость последовательности.

%TODO: ссылка? Есть у Усачёва
\begin{corollary}
	\label{thm:period_ac_avg}
	Всякая периодическая последовательность почти сходится к среднему по периоду.
	Иначе говоря, для любого $B\in\mathfrak B$
	\begin{equation}
		B(x_1,x_2, ..., x_n, \; x_1,x_2, ..., x_n, \; x_1,x_2, ..., x_n, \; x_1, ...) = \frac{x_1+x_2+...+x_n}{n}
		.
	\end{equation}
\end{corollary}

Сачестон~\cite{sucheston1967banach} установил, что
для любых $x\in \ell_\infty$ и $B\in\mathfrak{B}$
\begin{equation}\label{Sucheston}
	q(x) \leqslant Bx \leqslant p(x)
	,
\end{equation}
где
\begin{equation*}
	q(x) = \lim_{n\to\infty} \inf_{m\in\N}  \frac{1}{n} \sum_{k=m+1}^{m+n} x_k
	~~~~\mbox{и}~~~~
	p(x) = \lim_{n\to\infty} \sup_{m\in\N}  \frac{1}{n} \sum_{k=m+1}^{m+n} x_k
	.
\end{equation*}
называют нижним и верхним функционалом Сачестона соотвественно.
Заметим, что $p(x) = -q(-x)$.
Неравенства \eqref{Sucheston} точны:
для данного $x$ для любого $r\in[q(x); p(x)]$ найдётся банахов предел
$B\in\mathfrak{B}$ такой, что $Bx = r$.

Множество таких $x\in\ell_\infty$, что $p(x)=q(x)$ и
образует подпространство почти сходящихся последовательностей $ac$.
Таким образом, функционалы Сачестона являются удобным инструментом для доказательства того,
что некоторая последовательность $x$ не является почти сходящейся:
для этого достаточно показать, что $p(x)\ne q(x)$.

В~\cite[Theorem 5]{Jerison} показано, что нижний и верхний функционалы Сачестона могут быть переписаны в эквивалентном виде:
\begin{equation*}
	q(x) = \lim_{n\to\infty} \liminf_{m\to\infty}  \frac{1}{n} \sum_{k=m+1}^{m+n} x_k
	~~~~\mbox{и}~~~~
	p(x) = \lim_{n\to\infty} \limsup_{m\to\infty}  \frac{1}{n} \sum_{k=m+1}^{m+n} x_k
	.
\end{equation*}

Пространство $ac$ имеет интересную структуру.
За глобальным обзором его свойств отсылаем читателя к~\cite{semenov2006ac};
ряд интересных фактов можно почерпнуть в~\cite{usachev2008transforms},
а также в диссертации А.С. Усачёва~\cite{usachev2009_phd_vsu}.
%TODO2: включить англоязычную версию!
Стоит также отметить недавнюю работу~\cite{zvolinsky2021subspace},
в которой исследуется почти сходимость последовательностей,
определённых с помощью тригонометрических функций.

Часто мы будем иметь дело не с пространством всех почти сходящихся последовательностей $ac$,
а с его подпространством $ac_0$ последовательностей, почти сходящихся к нулю.
%TODO2: $ac$ не замкнуто относительно умножения.
%Рассмотрим  1/2, 1/2, 1, 0, 1, 0, 1/2, 1/2, 1/2, 1/2, 1, 0, 1, 0, 1, 0, 1, 0, 1/2, ...
% и          1/2, 1/2, 0, 1, 0, 1, 1/2, 1/2, 1/2, 1/2, 0, 1, 0, 1, 0, 1, 0, 1, 1/2, ...
Пространство $ac_0$ имеет ряд особенностей,
существенно отличающих его от пространства $c_0$ последовательностей, сходящихся к нулю.
То, что $ac_0\ne c_0$, показывает следующий классический
\begin{example}
	Пусть
	\begin{equation}
		x_k = \begin{cases}
			1, & ~\mbox{если}~ k = 2^n, ~ n\in\N,
			\\
			0  & ~\mbox{иначе}.
		\end{cases}
	\end{equation}
	Тогда $x\in ac_0 \setminus c_0$.
\end{example}
Более того, в отличие от пространства $c_0$, пространство $ac_0$ не замкнуто относительно
оператора взятия подпоследовательности, относительно покоординатного умножения и относительно возведения в степень.
Три этих свойства показывает
\begin{example}
	Пусть $x_n = (-1)^{n+1}$,
	т.е. $x = (1, -1,1,-1,1, -1,1,-1,...)$.
	Тогда $x\in ac_0$ в силу периодичности (см. следствие~\ref{thm:period_ac_avg}),
	но, очевидно, $x\cdot x = x^2\in ac_1$.
	Если же мы рассмотрим оператор перехода к подпоследовательности с чётными индексами
	\begin{equation}
		E(y_1, y_2, ...)  = (y_2, y_4, y_6, ...)
		,
	\end{equation}
	то обнаружим, что $Ex = (-1,-1,-1,-1,...)\in ac_{-1}$.
\end{example}

Можно привести и пример, когда взятие подпоследовательности выводит из всего пространства $ac$.
\begin{example}
	Пусть $x_n = (-1)^{n+1}$,
	т.е. $x = (1, -1,1,-1,1, -1,1,-1,...)$.
	Очевидно, что можно рассмотреть подпоследовательность
	\begin{equation}
		y = (1,-1, \; 1,1, -1,-1, \; 1,1,1, -1,-1,-1, \; 1,1,1,1,...)
		.
	\end{equation}
	Легко видеть, что верхний и нижний функционалы Сачестона принимают на последовательности $y$
	различные значения:
	$p(y) =1$, $q(y) = -1$.
	Следовательно, $x\notin ac$.
\end{example}

Е.А. Алехно доказал~\cite{alekhno2012superposition},
что в $ac_0$ существует максимальный идеал по умножению, обозначаемый $\Iac$ и,
более того, этот идеал может быть ёмко описан следующим критерием:
\begin{theorem}
	\label{thm:Iac_criterion_pos_neg}
	Последовательность $x\in\Iac$ тогда и только тогда,
	$x = x^+ +x^-$, $x^+\geq 0$, $x^- \leq 0$ и $x^+ \in ac_0$
	(последнее включение эквивалентно условию $x^- \in ac_0$).
\end{theorem}

%TODO2: а что там с идеалом по умножению в ac ?

Более того, $\Iac$ является подпространством в $ac_0$.
%TODO2: что там с недополняемостью?

Е.А. Алехно также исследовал
%TODO1: ссылка
\emph{стабилизатор} пространства $ac_0$:
\begin{equation}
	\Dac = \{x\in\ell_\infty : x\cdot y \in ac_0 \mbox{~для любого~} y \in ac_0\}
\end{equation}
(встречается также обозначение $\operatorname{St} ac_0$).
%TODO1: ссылка на то, где встречается
$\Dac$ также является подпространством (уже в $\ell_\infty$),
однако в настоящей работе в дальнейшем не используется,
и потому мы не будем останавливаться на его свойствах;
отсылаем читателя к~\cite{Luxemburg}.
%TODO2: что там с недополняемостью?


