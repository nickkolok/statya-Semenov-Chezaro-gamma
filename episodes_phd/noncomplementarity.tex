\label{sec:noncomplementarity}

В работе~\cite{phillips1940linear} Филлипс привёл исторически первый пример недополняемого подпространства.
Говоря формально, справедлива следующая


\begin{theorem}[Филлипса]
	\label{thm:phillips}
	Не существует непрерывного линейного оператора $P: \ell_\infty \to c_0$ такого, что для любого
	$x \in c_0$ выполнено равенство $Px =x$.
\end{theorem}
Подобные операторы называются \emph{проекторами}.

Теорема~\ref{thm:phillips} дала первый пример недополняемого подпространства.
Позже были найдены и другие примеры;
%TODO2: краткий обзор - передрать из Conway 2nd ed., p. 94
отсылаем читателя, например, к~\cite{lindenstrauss1979classical}.

Е.А. Алехно привёл в~\cite[теорема 8]{alekhno2006propertiesII} элегантное доказательство
того, что $ac_0$ недополняемо в $\ell_\infty$.
Это доказательство основано на изначальном доказательстве Филлипса теоремы~\ref{thm:phillips}
и использует некоторые леммы из~\cite{phillips1940linear}.

Подпространство $c_0$ также недополняемо в $ac_0$.
Непосредственное явное упоминание этого факта найти не удалось, однако он достаточно легко следует из~\cite[теорема 4]{ASSU2},
доказательство которой опирается на идеи~\cite{whitley1968projecting}~и~\cite[теорема 6.9]{Carothers}.
Приведём эту теорему (в несколько ослабленной форме, для которой достаточно уже введённой терминологии)
и соответствующее следствие, предварив одной вспомогательной леммой, доказательство коей является столь же классическим, сколь и кратким,
и приводится здесь исключительно ради полноты изложения.

\begin{definition}
	Семейство множеств $\{A_\lambda\}_{\lambda \in \Lambda}$ называется почти дизъюнктным,
	если для $\lambda, \mu \in \Lambda$, $\lambda \ne \mu$,
	пересечение $A_\lambda \cap A_\mu$ конечно.
\end{definition}

\begin{lemma}
	\label{lem:uncountable_subsets_of_N_with_finite_intersections}
	Существует почти дизъюнктное несчётное семейство подмножеств $\{S_i\}_{i\in I}$, $S_i \subset \mathbb{N}$.
\end{lemma}

\begin{proof}
	Рассмотрим биекцию $\N \leftrightarrow \Q$.
	Пусть $I = \R$.
	Для каждого $i\in I$ положим $S_i = \{q_n\}$,
	где $\{q_n\} \subset \mathbb{Q}$ "--- некоторая последовательность рациональных чисел,
	сходящаяся к $i$.
	%(Proof: switch from $\mathbb{N}$ to $\mathbb{Q}$, pick convergent sequences to irrationals.
	%More details in [this question](https://math.stackexchange.com/q/162387).)
\end{proof}

\begin{theorem}[{\cite[теорема 4]{ASSU2}}]
	\label{thm:Alekhno_noncomplementarity_general}
	Пусть $X$ и $Y$ "--- такие линейные подпространства в $\ell_\infty$,
	что $c_{00} \subseteq Y \subsetneq X \subseteq \ell_\infty$.
	Пусть существует такое несчётное почти дизъюнктное семейство множеств натуральных чисел $\{A_\lambda\}_{\lambda \in \Lambda}$,
	$A_\lambda \subseteq \N$, что для любого $\lambda \in \Lambda$ имеет место включение $\chi {A\lambda} \in X \setminus Y$.
	Тогда подпространство $Y$ недополняемо в $X$ .
\end{theorem}

\begin{corollary}
	Подпространство $c_0$ недополняемо в $ac_0$.
	Подпространство $c_0$ недополняемо в $\Iac$.
\end{corollary}

\begin{proof}
	Возьмём почти дизъюнктное семейство $\{S_i\}_{i\in I}$, $S_i \subset \mathbb{N}$
	из леммы~\ref{lem:uncountable_subsets_of_N_with_finite_intersections}
	и построим новое семейство $\{A_i\}_{i\in I}$, $A_i \subset \mathbb{N}$
	по правилу
	\begin{equation}
		\label{eq:c0_noncomplemented_in_ac0_set_family}
		A_i = \{ 2^n : n\in S_i \}
		.
	\end{equation}
	Легко видеть, что семейство $\{A_i\}_{i\in I}$ снова является почти дизъюнктным.
	Более того, $\chi {A_i} \in ac_0 \setminus c_0$ и $\chi {A_i} \in \Iac \setminus c_0$ для любого $i\in I$.

	Таким образом, выполнены все условия теоремы~\ref{thm:Alekhno_noncomplementarity_general}
	для цепочки вложений $c_{00} \subseteq c_0 \subsetneq ac_0 \subseteq \ell_\infty$ и
	для цепочки вложений $c_{00} \subseteq c_0 \subsetneq \Iac \subseteq \ell_\infty$.
\end{proof}

%TODO2: а что там с \Iac \subset ac_0 ?

Итак, все три следующих подпространства недополняемы:
\begin{equation}
	c_0 \subset \ell_\infty,
	\quad
	ac_0 \subset \ell_\infty,
	\quad\mbox{и}\quad
	c_0 \subset ac_0
	.
\end{equation}


Перейдём теперь к изучению пространства $A_0$.

\begin{lemma}
	Подпространство $A_0$ недополняемо в $\ell_\infty$.
\end{lemma}

\begin{proof}
	В теореме~\ref{thm:Alekhno_noncomplementarity_general}
	положим $Y=A_0$, $X=\ell_\infty$.
	Тогда для семейства множеств~\eqref{eq:c0_noncomplemented_in_ac0_set_family}
	выполнены все условия теоремы~\ref{thm:Alekhno_noncomplementarity_general}.
\end{proof}

Однако для вложения $c_0 \subset A_0$ применить теорему~\ref{thm:Alekhno_noncomplementarity_general}
непосредственно не удастся.
Основная проблема заключается в том, что для любого бесконечного множества $E \subset \N$ такого, что
дополнение $\N \setminus E$ также бесконечно, последовательность $\chi E \notin A_0$,
поскольку $\alpha(\chi E) = 1$.

Поэтому мы проведём доказательство недополняемости полностью,
во многом опираясь на идеи~\cite{whitley1968projecting} и дискуссию~\cite{mathSE_Phillips}.
Для этого нам потребуется напомнить некоторые вспомогательные конструкции,
с которыми читатель уже встречался в этой главе.


Определим линейный оператор  $F:\ell_\infty \to \ell_\infty$ соотношением
\begin{equation}
	\label{operator_F}
	(Fy)_k = y_{i+2} \mbox{ ~для~ } 2^i < k \leq 2^{i+1}
	,
\end{equation}
т.е.
\begin{equation}
	F(\{x_1,x_2,x_3,x_4,x_5,x_6, ...\}) = \{x_1,x_2,\,x_3,x_3,\,x_4,x_4,x_4,x_4,\,x_5,x_5,x_5,x_5,x_5,x_5,x_5,x_5,\,x_6...\}
	.
\end{equation}

Напомним, что в силу леммы~\ref{thm:alpha_S} выполнено равенство
\begin{equation}
	\label{eq:alpha_F}
	\alpha(Fx) = \varlimsup_{k\to\infty} |x_{k+1} - x_{k}|
	.
\end{equation}


Определим линейный оператор $M:\ell_\infty \to \ell_\infty$ следующим образом:
\begin{multline*}
	M(\omega_1,\omega_2,...)=\left(
		0, 1\omega_1,
		0, \frac{1}{2}\omega_2, 1\omega_2, \frac{1}{2}\omega_2,
		0, \frac{1}{3}\omega_3, \frac{2}{3}\omega_3, 1\omega_3, \frac{2}{3}\omega_3, \frac{1}{3}\omega_3,
		0, ...,
	\right. \\ \left.
		0, \frac{1}{p}\omega_p, \frac{2}{p}\omega_p, ..., \frac{p-1}{p}\omega_p, 1\omega_p,
			\frac{p-1}{p}\omega_p, ..., \frac{2}{p}\omega_p, \frac{1}{p}\omega_p,
		0, \frac{1}{p+1}\omega_{p+1}, ...
	\right)
	.
\end{multline*}
Заметим, что в силу~\eqref{eq:alpha_F} мы имеем $FM: \ell_\infty \to A_0$.


\begin{lemma}
	\label{lem:c_0_not_complemented_in_A_0}
	Пусть линейный оператор  $Q: A_0 \to A_0$ таков, что $c_0\subseteq \ker Q$.
	Тогда существует счётное подмножество $S \subset \N$ такое, что
	\begin{equation}
		\forall(x \in A_0 : \supp x \subset S)[Qx = 0]
	\end{equation}
	и $x\in A_0\setminus c_0$ такой, что $\supp x \subseteq S$.
\end{lemma}

\begin{proof}
	Пусть $\{U_i\}_{i \in I}$ есть семейство подмножеств $\N$,
	удовлетворяющее условиям леммы~\ref{lem:uncountable_subsets_of_N_with_finite_intersections}.
	Пусть $\{S_i\}_{i \in I}$ есть семейство подмножеств $\N$,
	определённое соотношением $S_i = \supp FM\chi {U_i}$.
	Очевидно, что семейство множеств $\{S_i\}_{i \in I}$ также
	удовлетворяет условиям леммы~\ref{lem:uncountable_subsets_of_N_with_finite_intersections}.
	%satisfies the conditions of Lemma~\ref{lem:uncountable_subsets_of_N_with_finite_intersections}.
	Более того, для любого $i\in I$ мы имеем $x = FM\chi {U_i} \in A_0\setminus c_0$.

	Предположим противное:
	\begin{equation}
		\forall(\mbox{бесконечного }S\subset\N)\exists(x \in A_0 : \supp x \subset S)[Qx \neq 0]
		.
	\end{equation}
	В частности,
	%In particular,
	\begin{equation}
		\forall(i\in I)\exists(x_i \in A_0 : \supp x_i \subset S_i)[Q(x_i) \neq 0]
		.
	\end{equation}

	Заметим, что $x_i \notin c_0$, поскольку $c_0\subseteq \ker Q$.
	Не теряя общности, будем полагать $\|x_i\|=1$ для всех $i \in I$.
	%Without loss of generality we can assume that $\|x_i\|=1$ for all $i \in I$.

	Положим $I_n = \{i \in I\,:\,(Qx_i)_n \neq 0\}$,
	%Consider $I_n = \{i \in I\,:\,(Qx_i)_n \neq 0\}$,
	тогда $I = \bigcup\limits_{n\in\N} I_n$.
	%then $I = \bigcup\limits_{n\in\N} I_n$.
	Таким образом, найдётся $n$ такое, что $I_n$ также несчётно
	%Thus, we can find $n$ such that $I_n$ is also uncountable
	(иначе $I$ было бы счётным как объединение счётного количества счётных множеств,
	%(otherwise $I$ would be countable as a countable union of countable sets,
	что противоречит условиям леммы~\ref{lem:uncountable_subsets_of_N_with_finite_intersections}).
	%which contradicts to conditions of Lemma~\ref{lem:uncountable_subsets_of_N_with_finite_intersections}).

	Рассмотрим теперь $I_{n,k} = \{i \in I_n\,:\,|(Qx_i)_n| \geq 1/k\}$,
	%Сonsider now $I_{n,k} = \{i \in I_n\,:\,|(Qx_i)_n| \geq 1/k\}$,
	тогда $I_n = \bigcup\limits_{k\in\N} I_{n,k}$.
	%then $I_n = \bigcup\limits_{k\in\N} I_{n,k}$.
	Аналогичные рассуждения показывают, что для некоторого $k$ множество $I_{n,k}$ несчётно.
	%Applying the same argument as above, one can easily see that the set $I_{n,k}$ is uncountable for some $k$.
	Зафиксируем такое $I_{n,k}$ и в дальнейшем будем работать с ним.
	%Let us choose such $I_{n,k}$ and proceed with it.

	Итак, у нас есть несчётное множество $I_{n,k}$ и
	%So, we have an uncountable set $I_{n,k}$ and
	\begin{equation}
		\forall(i\in I_{n,k})\exists(x_i \in A_0 : \supp x_i \subset S_i)\Bigl[\|x_i\|=1 \mbox{~~и~~} |(Qx_i)_n| \geq 1/k\Bigr]
		.
	\end{equation}

	Рассмотрим конечное множество $J \subset I_{n,k}$, $\#J>1$
	%Consider a finite set $J \subset I_{n,k}$ with $\#J>1$
	(здесь $\#J$ означает мощность множества $J$).
	%(here $\#J$ stands for the cardinality of the set $J$).
	Возьмём
	\begin{equation}
		y = \sum_{j \in J} \operatorname{sign}{(Qx_j)_n} \cdot x_j
		.
	\end{equation}
	Поскольку пересечение $S_i \cap S_j$ конечно для любых $i \neq j$ и
	$\supp x_j \subset S_j$,
	пересечение $\bigcap\limits_{j\in J} \supp x_j$ также конечно.
	Таким образом, $y = f + z$,
	причём $\supp f$ конечен и $\|z\| \leq 1$.

	С другой стороны,
	\begin{equation}
		\label{eq:non_complemented_sum_cardinality}
		(Qy)_n = \sum_{j \in J}
		(\operatorname{sign}(Qx_j)_n)
		\cdot (Qx_j)_n \geq \frac{\# J}{k}
		.
	\end{equation}
	Заметив, что $f\in c_0$, мы получаем $Qf = 0$, поскольку $c_0 \subseteq \ker Q$.
	Значит, $Qy = Q(f+z) = Qf + Qz = Qz$ и
	\begin{equation}
		\label{eq:norm_Q_estimate}
		\frac{\# J}{k} \leq (Qy)_n \leq \|Qy\| = \|Qz\| \leq \|Q\| \cdot \|z\| \leq \|Q\|
		.
	\end{equation}
	С  учётом~\eqref{eq:norm_Q_estimate} получаем $\# J \leq \|Q\| k$ для любого $J\subset I_{n,k}$.
	%Due to~\eqref{eq:norm_Q_estimate}, we obtain $\# J \leq \|Q\| k$ for every  $J\subset I_{n,k}$.
	Таким образом мы получаем противоречие с тем фактом, что $I_{n,k}$ несчётно.
	%This contradicts the fact that $I_{n,k}$ is uncountable,
	%and we are done.
\end{proof}

\begin{theorem}
	Подпространство $c_0$ недополняемо в $A_0$.
\end{theorem}

\begin{proof}
	Предположим противное.
	Тогда существует непрерывный проектор $P: A_0 \to c_0$.
	Применим лемму~\ref{lem:c_0_not_complemented_in_A_0} к оператору $I-P$
	и найдём бесконечное подмножество $S\subset\N$ такое,
	что $\forall(x\in A_0 : \supp x \subset S)[(I-P)x = 0]$,
	и $x\in A_0 \setminus c_0$ такой, что $\supp x \subseteq S$.
	Но тогда  $Px = x\notin c_0$,
	что противоречит предположению, что $P$ есть проектор на $c_0$.
\end{proof}

