В данном параграфе вводятся некоторые вспомогательные объекты,
которые потребуются далее при доказательстве теоремы~\ref{thm:Lin_Omega_Sucheston}.

\subsection{Двоичные приближения}

\begin{definition}
	$k$-м двоичным приближением к произвольному числу $d\in[0;1]$
	называется такое число $d_{(k)}\in\N\cup\{0\}$,
	что
	\begin{equation}
		\label{eq:binary_approximations_for_number}
		\frac{d_{(k)}}{2^k} < d \leq \frac{d_{(k)}+1}{2^k}
		.
	\end{equation}
\end{definition}

\begin{remark}
	Очевидно, что $d_{(k+1)}\in\{2d_{(k)},2d_{(k)}+1\}$.
\end{remark}

Ввиду того, что мы вводим двоичные приближения к дроби из отрезка $[0;1]$ как натуральные числа,
дадим примеры построения таких приближений.

\begin{example}
	Пусть $d=\frac12$.
	Тогда
	$$
		d_{(1)} = 0, ~~~\mbox{поскольку}~~ \frac{0}{2^1} < \frac12 \leq \frac{0+1}{2^1};
	$$
	$$
		d_{(2)} = 1, ~~~\mbox{поскольку}~~ \frac{1}{2^2} < \frac12 \leq \frac{1+1}{2^2};
	$$
	$$
		d_{(3)} = 3, ~~~\mbox{поскольку}~~ \frac{3}{2^3} < \frac12 \leq \frac{3+1}{2^3};
	$$
	$$
		d_{(4)} = 7, ~~~\mbox{поскольку}~~ \frac{7}{2^4} < \frac12 \leq \frac{7+1}{2^4};
	$$
	$$
		\dots\dots\dots
	$$
	$$
		d_{(k)} = 2^{k-1}-1, ~\mbox{поскольку}~~ \frac{2^{k-1}-1}{2^k} < \frac12 \leq \frac{2^{k-1}}{2^k}.
	$$
\end{example}

\begin{example}
	Пусть $d=\frac13$.
	Тогда
	$$
		d_{(1)} = 0, ~~~\mbox{поскольку}~~ \frac{0}{2^1} < \frac13 \leq \frac{1}{2^1};
	$$
	$$
		d_{(2)} = 1, ~~~\mbox{поскольку}~~ \frac{1}{2^2} < \frac13 \leq \frac{2}{2^2};
	$$
	$$
		d_{(3)} = 2, ~~~\mbox{поскольку}~~ \frac{2}{2^3} < \frac13 \leq \frac{3}{2^3};
	$$
	$$
		d_{(4)} = 5, ~~~\mbox{поскольку}~~ \frac{5}{2^4} < \frac13 \leq \frac{6}{2^4};
	$$
	$$
		\dots\dots\dots
	$$
\end{example}


\subsection{Последовательности-<<блоки>>}

Введём последовательности-<<блоки>> "---
стабилизирующиеся на нуле последовательности,
которые затем будут использованы для формирования последовательностей,
обладающих некоторыми интересными свойствами.

Пусть $n$ зафиксировано.
Пусть
\begin{equation}
	K = \{k\in\N : k \geq n\} = \{n, n+1, n+2, ...\}
	.
\end{equation}


Определим функцию $\operatorname{Br}:K\times [0;1] \to \ell_\infty$,
генерирующую <<блоки>> из нулей и единиц,
соответствующие приближению $d_{(k)}$ к числу $d\in[0;1]$ для $k \geq n$.

Определение $\operatorname{Br}$ построим рекурсивно.
Сначала определим $\operatorname{Br}(k,d)$ для $k=n$ по следующему правилу:
\begin{equation}
	(\operatorname{Br}(n,d))_j = \begin{cases}
		1, & \mbox{~если~} 2^n - d_{(n)} < j \leq 2^n,
		\\
		0  & \mbox{~для остальных~} j
		.
	\end{cases}
\end{equation}
Заметим, что все элементы $\operatorname{Br}(n,d)$, начиная с $(2^n+1)$-го, равны нулю;
кроме того, в $\operatorname{Br}(n,d)$ ровно $d_{(n)}$ единиц.

Для каждого $k \geq n$ положим
\begin{equation}
	\label{eq:Br(k+1,d)}
	\operatorname{Br}(k+1,d) = \operatorname{Br}(k,d) + T^{2^k}\operatorname{Br}(k,d) + (d_{(k+1)}-2d_{(k)})e_{2^k+2^n-d_{(n)}}
	,
\end{equation}
где через $e_j$ обозначен $j$-й орт.


\begin{proposition}
	\label{prop:Br_k_c_0_1}
	Последовательность $\operatorname{Br}(k,d)$ состоит из нулей и единиц.
\end{proposition}
\begin{proof}
	Легко доказать по индукции, что все элементы $\operatorname{Br}(k,d)$, начиная с $(2^k+1)$-го, равны нулю.
	Следовательно, носители первых двух слагаемых в~\eqref{eq:Br(k+1,d)} не пересекаются.
	Далее заметим, что третье слагаемое отлично от нуля тогда и только тогда,
	когда переход между приближениями $d_{(k)} / 2^k$ и $d_{(k+1)}/2^{k+1}$
	приводит к улучшению приближения.
	Более того,
	\begin{multline}
		\left(\operatorname{Br}(k,d) + T^{2^k}\operatorname{Br}(k,d)\right)_{2^k+2^n-d_{(n)}}
		=
		(\operatorname{Br}(k,d))_{2^n-d_{(n)}}
		=
		(\operatorname{Br}(k-1,d))_{2^n-d_{(n)}}
		=
		\\=
		...
		=
		(\operatorname{Br}(n,d))_{2^n-d_{(n)}}
		=
		0
		,
	\end{multline}
	т.е. выражение~\eqref{eq:Br(k+1,d)} действительно задаёт последовательность из нулей и единиц.
\end{proof}

\begin{remark}
	Из доказательства утверждения~\ref{prop:Br_k_c_0_1} следует, что в $k$-м блоке ровно $d_{(k)}$ единиц.
\end{remark}


\begin{remark}
	Выполнено включение $\operatorname{supp}\operatorname{Br}(k,d) \subset \operatorname{supp}\operatorname{Br}(k+1,d)$
	и, более того, справедливо соотношение
	\begin{equation}
		(\operatorname{Br}(k,d))_j = \begin{cases}
			(\operatorname{Br}(k+1,d))_j, & \mbox{~если~}  j \leq 2^k,
			\\
			0  & \mbox{~для остальных~} j
			.
		\end{cases}
	\end{equation}
\end{remark}

\begin{lemma}
	\label{lem:sum_Br_k_c}
	Для любых таких $m$, $k$ и $i$, что $n \leq m \leq k$ и  $ i + 2^m - 1 \leq 2^k$,
	выполнено
	\begin{equation}
		d_{(m)} \leq \sum_{j=i}^{i+2^m-1} (\operatorname{Br}(k,d))_j \leq d_{(m)}+1
		.
	\end{equation}
\end{lemma}
\begin{proof}
	Представление~\eqref{eq:Br(k+1,d)} может быть переписано в виде:
	\begin{equation}
		\operatorname{Br}(m+1,d) = \sum_{j=0}^{1} T^{j2^m} \operatorname{Br}(m,d) + \sum_{j=0}^{1} \gamma_{j} e_{j 2^m+2^n-d_{(n)}}
		,
	\end{equation}
	где $\gamma_{j} \in \{0,1\}$.
	Продолжая по индукции, получаем
	\begin{equation}
		\operatorname{Br}(k,d) = \sum_{j=0}^{2^{k-m}-1} T^{j2^m} \operatorname{Br}(m,d) +
		\sum_{j=0}^{2^{k-m}-1} T^{j2^m} \gamma_{j} e_{j2^m+2^n-d_{(n)}}
		.
	\end{equation}
	Тогда
	\begin{equation}
		\sum_{j=i}^{i+2^m-1} (\operatorname{Br}(k,d))_j
		=
		\sum_{j=1}^{2^m-1} (\operatorname{Br}(m,d))_j
		+ \gamma_h
		=
		d_{(m)} + \gamma_h
		\in \{d_{(m)}, d_{(m)}+1\}
		.
	\end{equation}
\end{proof}

Из~\eqref{eq:binary_approximations_for_number} непосредственно вытекает следующий факт.
\begin{proposition}
	\label{prop:Br_has_nulls}
	Пусть $d<1-3/2^n$.
	Тогда
	\begin{equation}
		(\operatorname{Br}(d,k))_j = 0 ~~\mbox{для}~~j = m\cdot 2^n + 1, m\in\N \cup\{0\}
		.
	\end{equation}
\end{proposition}


\begin{example}
	Для $n=2$ и $d=1/3$ имеем:
	\begin{equation*}
		\begin{array}{lll}
			d_{(2)} = 1/4, &
			\operatorname{Br}(2,1/3) = (&0,0,0,1, \ 0,0,...)
			\\
			d_{(3)} = 2/8, &
			\operatorname{Br}(3,1/3) = (&0,0,0,1, \ 0,0,0,1, \ \   0,0,...)
			\\
			d_{(4)} = 5/16, &
			\operatorname{Br}(4,1/3) = (&0,0,0,1, \ 0,0,0,1, \ \   0,0,1,1, \ 0,0,0,1, \ \ \  0,0,...)
			\\
			d_{(5)} = 10/32, &
			\operatorname{Br}(5,1/3) = (&
			                             0,0,0,1, \ 0,0,0,1, \ \   0,0,1,1, \ 0,0,0,1,\\&
			                           & 0,0,0,1, \ 0,0,0,1, \ \   0,0,1,1, \ 0,0,0,1,
			\ \ \ 0,0,...)
			\\
			d_{(6)} = 21/64, &
			\operatorname{Br}(6,1/3) = (&
			                             0,0,0,1, \ 0,0,0,1, \ \   0,0,1,1, \ 0,0,0,1,\\&
			                           & 0,0,0,1, \ 0,0,0,1, \ \   0,0,1,1, \ 0,0,0,1,\\&
			                           & 0,0,1,1, \ 0,0,0,1, \ \   0,0,1,1, \ 0,0,0,1,\\&
			                           & 0,0,0,1, \ 0,0,0,1, \ \   0,0,1,1, \ 0,0,0,1,
			\ \ \ 0,0,...)
		\end{array}
	\end{equation*}
\end{example}

\subsection{Частичный предел в функционале Сачестона}

\begin{proposition}
	\label{prop:Sucheston_partial_limit}
	Предел в функционале Сачестона можно заменить частичным пределом, а именно
	\begin{equation*}
		p(x) = \lim_{n\to\infty} \sup_{m\in\N}  \frac{1}{n} \sum_{k=m+1}^{m+n} x_k
		= \lim_{n\to\infty} \sup_{m\in\N}  \frac{1}{2^n} \sum_{k=m+1}^{m+2^n} x_k
		.
	\end{equation*}
\end{proposition}
Аналогичное соотношение выполнено и для функционала $q(x)$.

